<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="Description" content="邀请函">
	<meta name="Keywords" content="邀请函">
	<link rel="stylesheet" type="text/css" href="css/invite.css" />
	<title>邀请函</title>
</head>
<body>
    <div class="wrap" id="scene">
        <h1>邀请函</h1>
        <div class="sec">
            <div class="bg">
                <div class="bg_sec bg01"></div>
                <div class="bg_sec bg02"><div class="layer" data-depth="0.4"><b aria-hidden="true" data-icon="a" class="b_a"></b><b aria-hidden="true" data-icon="b" class="b_b"></b></div>
                <div class="layer" data-depth="0.6"><b aria-hidden="true" data-icon="c" class="b_c"></b><b aria-hidden="true" data-icon="d" class="b_d"></b></div>
                <div class="layer" data-depth="0.8"><b aria-hidden="true" data-icon="e" class="b_e"></b><b aria-hidden="true" data-icon="f" class="b_f"></b></div>
                <div class="layer" data-depth="1"><b aria-hidden="true" data-icon="g" class="b_g"></b><b aria-hidden="true" data-icon="b" class="b_h"></b><b aria-hidden="true" data-icon="d" class="b_i"></b></div></div>
                <div class="bg_sec bg03"><div class="layer" data-depth="1.2"><b aria-hidden="true" data-icon="h" class="b_a"></b><b aria-hidden="true" data-icon="i" class="b_b"></b><b aria-hidden="true" data-icon="j" class="b_c"></b></div></div>
                <div class="bg_sec bg04"><div class="layer" data-depth="1.2"><b aria-hidden="true" data-icon="k" class="b_a"></b><b aria-hidden="true" data-icon="l" class="b_b"></b><b aria-hidden="true" data-icon="m" class="b_c"></b></div></div>
                <div class="bg_sec bg05"><div class="layer" data-depth="1.2"><b aria-hidden="true" data-icon="n" class="b_a"></b><b aria-hidden="true" data-icon="o" class="b_b"></b><b aria-hidden="true" data-icon="p" class="b_c"></b></div></div>
                <div class="bg_sec bg06"></div>
                <div class="bg_sec bg07"><b aria-hidden="true" data-icon="v"></b><b aria-hidden="true" data-icon="v"></b></div>
                <div class="bg_sec bg08"></div>
                <div class="bg_sec bg09"></div>
            </div>
            <div class="svg">
                <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" version="1.1">
                    <line xmlns="http://www.w3.org/2000/svg" x1="50%" y1="11.25%" x2="7.81%" y2="13.74%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <line xmlns="http://www.w3.org/2000/svg" x1="7.81%" y1="13.74%" x2="90.63%" y2="25.51%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <line xmlns="http://www.w3.org/2000/svg" x1="90.63%" y1="25.51%" x2="11.56%" y2="40.35%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <line xmlns="http://www.w3.org/2000/svg" x1="11.56%" y1="40.35%" x2="82.97%" y2="53.08%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <line xmlns="http://www.w3.org/2000/svg" x1="82.97%" y1="53.08%" x2="5.16%" y2="60.83%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <line xmlns="http://www.w3.org/2000/svg" x1="5.16%" y1="60.83%" x2="90.94%" y2="75.92%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <line xmlns="http://www.w3.org/2000/svg" x1="90.94%" y1="75.92%" x2="8.43%" y2="88.9%" style="stroke:rgb(255,255,255);stroke-width:1"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="7.81%" cy="13.74%" r="4" fill="#FFF"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="19%" cy="15.3%" r="5" stroke="#FFF" stroke-width="3" fill="#468E7C"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="90.63%" cy="25.51%" r="4" fill="#FFF"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="78%" cy="27.9%" r="5" stroke="#FFF" stroke-width="3" fill="#F79536"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="11.56%" cy="40.35%" r="5" stroke="#FFF" stroke-width="3" fill="#5FA3FF"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="51.6%" cy="47.45%" r="4" fill="#FFF"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="82.97%" cy="53.08%" r="5" stroke="#FFF" stroke-width="3" fill="#05BD64"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="5.16%" cy="60.83%" r="4" fill="#FFF"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="90.94%" cy="75.92%" r="4" fill="#FFF"/>
                    <circle xmlns="http://www.w3.org/2000/svg" cx="8.43%" cy="88.9%" r="4" fill="#FFF"/>
                </svg>
            </div>
            <section class="sec01 sec01_show" style="display:;">
                <h2>腾讯互动娱乐2014年度发布会</h2>
                <span class="ico_up"></span>
                <div class="layer" data-depth="0.75">
                    <span class="ico_tri01"></span><span class="ico_tri02"></span><span class="ico_tri03"></span>
                </div>
                <div class="layer" data-depth="1.2">
                    <span class="ico_tri04"></span><span class="ico_tri05"></span><span class="ico_tri06"></span>
                </div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec02 " style="display:;">
                <div class="p">
                    <h2>我是读者</h2>
                    <p>每天有1500万人在腾讯文学的平台上</p>
                    <p>等候“大神”的更新</p>
                </div>
                <div class="data">15,000,000</div>
                <span class="ico_reader">
                    <span class="ico_rea"></span>
                    <span class="ico_reader_cir"></span>
                </span>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec03 " style="display:;">
                <div class="p">
                    <h2>我是漫迷</h2>
                    <p>超过6000万火影粉在</p>
                    <p>腾讯动漫平台守护最初的热血</p>
                </div>
                <div class="data">60,000,000</div>
                <span class="ico_comic">
                    <span class="ico_com"></span>
                    <span aria-hidden="true" data-icon="2" class="ico_comic_tri01"></span><span aria-hidden="true" data-icon="2" class="ico_comic_tri02"></span>
                </span>
                <div class="layer" data-depth="0.8"><span class="ico_naruto"></span></div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec04 " style="display:;">
                <div class="p">
                    <h2>我是影迷</h2>
                    <p>到现在累计有500万的</p>
                    <p>小洛克走进影院享受欢笑</p>
                </div>
                <div class="data">5,000,000</div>
                <span class="ico_film">
                    <span class="ico_fil"></span>
                    <span class="ico_film_squ"></span>
                </span>
                <div class="layer" data-depth="0.8"><span class="ico_roco"></span></div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec05 " style="display:;">
                <div class="p">
                    <h2>我是玩家</h2>
                    <p>这一秒全球有超过500万人</p>
                    <p>与我同时征战《英雄联盟》</p>
                </div>
                <div class="data">5,000,000</div>
                <span class="ico_player">
                    <span class="ico_pla"></span>
                    <span aria-hidden="true" data-icon="2" class="ico_player_tri01"></span><span aria-hidden="true" data-icon="2" class="ico_player_tri02"></span>
                </span>
                <div class="layer" data-depth="0.8"><span class="ico_garen"></span></div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec06 " style="display:;">
                <div class="sec06_bg"></div>
                <div class="p">
                    <p>无论是</p>
                    <p>文学、动漫，</p>
                    <p>还是影视和游戏</p>
                    <p>TA们联结了你我</p>
                    <p>也贯穿了虚拟与现实</p>
                </div>
                <div class="layer" data-depth="0.2">
                    <span class="ico_reader"><span class="ico_rea"></span><span class="ico_reader_cir"></span></span>
                    <span class="ico_comic"><span class="ico_com"></span><span aria-hidden="true" data-icon="2" class="ico_comic_tri01"></span><span aria-hidden="true" data-icon="2" class="ico_comic_tri02"></span></span>
                </div>
                <div class="layer" data-depth="0.1">
                    <span class="ico_player"><span class="ico_pla"></span><span aria-hidden="true" data-icon="2" class="ico_player_tri01"></span><span aria-hidden="true" data-icon="2" class="ico_player_tri02"></span></span>
                    <span class="ico_film"><span class="ico_fil"></span><span class="ico_film_squ"></span></span>
                </div>
                <div class="layer" data-depth="0.3">
                    <span class="ico_more"><b></b>MORE</span>
                </div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec07 " style="display:;">
                <div class="p1">
                    <p>当你喜爱的小说变成了</p>
                    <p>漫画、电影和游戏</p>
                </div>
                <div class="p2">
                    <p>我们到底是读者，是漫迷，</p>
                    <p>是影迷，还是玩家？<p>
                </div>
                <span class="ico_fans"><b>FANS</b><em></em></span>
                <div class="layer" data-depth="1"><span class="ico_tri08"></span></div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec08 " style="display:;">
                <div class="p">
                    <p>无论如何</p>
                    <p>一个崭新的互动娱乐新世界正在开启</p>
                </div>
                <div class="door"><span></span></div>
                <div class="layer" data-depth="1"><span class="ico_tri09"></span></div>
                <div class="layer" data-depth="0.8"><span class="ico_tri10"></span></div>
                <div class="layer" data-depth="1.3"><span class="ico_tri11"></span></div>
                <span class="start"><b aria-hidden="true" data-icon="1"></b></span>
            </section>
            <section class="sec09 ">
                <h2>会议安排</h2>
                <div class="p">
                    <span class="time">April<strong>16日</strong></span>
                    <span class="addr">2014年4月16日上午10点<strong>国家会议中心</strong>北京奥林匹克公园天辰东路7号
</span>
                </div>
                <div id="container"></div>
                <div class="lookforward"><strong>敬请期待</strong>UP2014 腾讯互动娱乐年度发布会</div>
                <div class="copyright">COPYRIGHT &copy; 1998 – 2014 TENCENT. <br>ALL RIGHTS RESERVED.</div>
            </section>
        </div>
    </div>
</body>
<script src="http://up.qq.com/2014/invitation/parallax.js"></script>
<script src="js/zepto.min.js"></script>
<script>
function IsPC()  
{  
           var userAgentInfo = navigator.userAgent;  
           var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");  
           var flag = true;  
           for (var v = 0; v < Agents.length; v++) {  
               if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }  
           }  
           return flag;  
}

var jumpPc = IsPC();
if(jumpPc!=false){
//window.location.href = "http://up.qq.com";
}

document.body.addEventListener('touchstart', function (e) {
    //console.log("target:"+e.target.className);
    e = e.changedTouches[0];
    onStart(e);
});

document.body.addEventListener('touchmove', function (e) {
    onMove(e.changedTouches[0], e);
});

document.body.addEventListener('touchend', function (e) {
    onEnd(e.changedTouches[0]);
});

// 翻转的绑定
window.onorientationchange = orientationChange;

function initPage(){
	pageWidth = $(window).width();
	pageHeight = $(".wrap").height();
	pages = $(".wrap section");
	$(".bg .bg_sec").css("height",pageHeight);
    var bg_sec_height = $('.bg .bg_sec').height();
    $(".svg").css("height",bg_sec_height*8);

    $(".wrap section").css({
        "width":pageWidth+"px",//"height":$(".wrap").height()+"px"
        "height":pageHeight+"px"
    });
    //$(".wrap").height($(".wrap").height());

    secHeight = pageHeight * $(".wrap section").length;
    lineHeight = 832 * secHeight / pageHeight;

    $(".sec, .line").addClass("drag");
    animatePage(curPage);
    //$(".sec, .line").removeClass("drag");

}

function orientationChange(){
	initPage();
}

// 以下是拖动效果
var startX = 0,
    startY = 0;
    margin = 0;
var pages = null;
var curPage = 0;
var pageWidth = 0,
    pageHeight = 0;
var lineHeight = 0, secHeight = 0;
var targetElement = null;
var scrollPrevent = false, movePrevent = false, touchDown = false;

$(document).ready(function(){
	initPage();
});

function onStart (e) {
    if(movePrevent == true){
        event.preventDefault();
        return false;
    }
    if($(e.target).parents("#container").length==1){
        scrollPrevent = true;
    }else{
        scrollPrevent = false;
    }

    $(".map").on('click', function(e){
    	$(".map_show").addClass("show");
    })

    if(!$(e.target).parents("#container").length==1){
	    $(".map_show").removeClass("show");
    }

    touchDown = true;

    // 起始点，页面位置
    startX = e.pageX;
    startY = e.pageY;
    //margin = parseInt($(".sec").css("top"));
    //-webkit-transform:translateY(0px)

    //matrix(1, 0, 0, 1, 0, 8)

    $(".sec, .line").addClass("drag");

    margin = $(".sec").css("-webkit-transform");
    //margin = "matrix(1, 0, 0, 1, 0, -50)";
    margin = margin.replace("matrix(", "");
    margin = margin.replace(")", "");
    margin = margin.split(",");
    margin = parseInt(margin[5]);
}

function onMove (e, oe) {
    if(movePrevent == true || touchDown != true){
        event.preventDefault();
        return false;
    }
    event.preventDefault();
    if( scrollPrevent==false && e.pageY!=startY){
        var temp = margin + e.pageY - startY;
        $(".sec").css("-webkit-transform", "matrix(1, 0, 0, 1, 0, "+temp+")");
        var b =  lineHeight / secHeight * temp;
        $(".line").css("-webkit-transform", "matrix(1, 0, 0, 1, 0, "+b+")");
    }
}

function onEnd (e) {
    if(movePrevent == true){
        event.preventDefault();
        return false;
    }

    touchDown = false;

    if( scrollPrevent==false ){
        // 抬起点，页面位置
        endX = e.pageX;
        endY = e.pageY;
        // swip 事件默认大于50px才会触发，小于这个就将页面归回
        if( Math.abs(endY-startY)<=50) {
            animatePage(curPage);
        }else{
        	if(endY>startY){
        		prevPage();
        	}else{
        		nextPage();
        	}
        }
    }

    $(".sec, .line").removeClass("drag");
}

function prevPage(){
    var newPage = curPage - 1;
    animatePage(newPage);
    
}
function nextPage(){
    var newPage = curPage + 1;
    animatePage(newPage);
}

function animatePage( newPage ){
    if(newPage<0){
        newPage = 0;
    }
    if(newPage>$(".wrap section").length-1){
        newPage = $(".wrap section").length-1;
    }

    curPage = newPage;
    var newMarginTop = newPage * (-pageHeight);
    $(".sec").css({
        "-webkit-transform" : "matrix(1, 0, 0, 1, 0, "+newMarginTop+")"
    });

    var newTop = -parseInt(curPage*pageHeight*(lineHeight/secHeight));
    $(".line").css({
        "-webkit-transform" : "matrix(1, 0, 0, 1, 0, "+newTop+")"
    });

    movePrevent = true;
    setTimeout("movePrevent=false;", 300 );

    // 每页动画
    if( !$(pages[curPage]).hasClass("sec0" + (curPage+1) + "_show") ){
        $(pages[curPage]).addClass("sec0" + (curPage+1) + "_show");
    }
    $(pages[curPage-1]).removeClass("sec0" + (curPage) + "_show");
    $(pages[curPage+1]).removeClass("sec0" + (curPage+2) + "_show");

}


// 视差
var scene = document.getElementById('scene');
var parallax = new Parallax(scene);

</script>
</html>